<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Uso de BrandCaptcha con ASP.NET</title>
</head>

<body>
<h1 itemprop="name">Uso de BrandCaptcha con ASP.NET</h1>
<div itemprop="articleBody">
<p>La libreria ASP.NET de BrandCaptcha provee de manera simple colocar un Brand<a href="http://es.wikipedia.org/wiki/Captcha" target="_blank">Captcha</a> en su sitio desarrollado en ASP.NET, ayudandolo a frenar bots que intenten generar abusos del mismo. La libreria realiza comunicaciones directamente con la API de BrandCaptcha.</p>
<p>Después de obtener las diferentes API Keys, a continuación se encuentran las instrucciones básicas de instalación de la libreria de BrandCaptcha en su sitio.
</p>
<h2>ASP.NET</h2>
<ol>
<li>
	<p>Agregar una referencia en su proyecto a la libreria Brandcaptcha.dll.</p>
</li>
<li>
	<p>Insertar el control de BrandCaptcha dentro del formulario que desea proteger, utilizando el siguiente código:</p>
	<p>En la parte superior de su página aspx, inserte el siguiente código:</p>
	<pre> &lt;%@ Register TagPrefix="brandcaptcha" Namespace="Brandcaptcha" Assembly="Brandcaptcha" %&gt;</pre>
	<p>Luego inserte el control de BrandCaptcha dentro del tag &lt;form runat="server"&gt;:</p>
	<pre> &lt;brandcaptcha:BrandCaptchaControl
    ID="brandcaptcha"
    runat="server"
    PublicKey="your_public_key"
    PrivateKey="your_private_key"
    /&gt;</pre>

	<p>Deberá sustituir su clave pública y privada dentro de PublicKey y PrivateKey respectivamente, o podrá especificarlas dentro de su archivo de configuración. </p>

</li>
<li>
	<p>Asegúrese de estar utilizando las validaciones de ASP.NET para validar su formulario (debe checkear Page.IsValid al hacer submit)</p>
</li>
</ol>

<h2>ASP.NET MVC</h2>
<ol>
<li>
	<p>Agregar una referencia en su proyecto a la libreria Brandcaptcha.dll.</p>
</li>
<li>
	<p>Insertar el control de BrandCaptcha dentro del formulario que desea proteger, utilizando el siguiente código:</p>
	<p>En la parte superior de la vista, inserte el siguiente código:</p>
	<pre>@using Brandcaptcha;</pre>
	<p>Luego inserte el control de BrandCaptcha dentro del formulario:</p>
	<pre>@Html.Raw(Html.GenerateCaptcha())</pre>

	<p>Deberá especificar su clave pública y privada en las propiedades PublicKey y PrivateKey respectivamente de la clase BrandcaptchaControlMvc, o podrá especificarlas dentro de su archivo de configuración. </p>

</li>
<li>
	<p>Para validar el captcha, deberá agregar el atributo BrandcaptchaControlMvc.CaptchaValidator y los parámetros captchaValid y captchaErrorMessage al action que desea proteger. A continuación puede ver un ejemplo implementado en c#:</p>
	<pre>
        [HttpPost]
        [BrandcaptchaControlMvc.CaptchaValidator]
        public ActionResult FormPostAction(bool captchaValid, string captchaErrorMessage)
	{
		
	}
	</pre>
</li>
</ol>
<h2>Archivo de configuración</h2>
<p>Podrá especificar su clave pública y privada en el archivo de configuración de su aplicación, utilizando BrandCaptchaPublicKey y BrandCaptchaPrivateKey respectivamente dentro de la sección appSettings:  </p>
<p><pre>
	&lt;appSettings&gt;
		&lt;add key="BrandcaptchaPublicKey" value="your_public_key" /&gt;
		&lt;add key="BrandcaptchaPrivateKey" value="your_private_key"/&gt;
	&lt;/appSettings&gt;
</pre></p>
<br/>